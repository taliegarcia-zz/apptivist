<!doctype html>
<html>
    <head>
     
        <title>Apptivist</title>
        <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
        <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
        
        {# this script-src address is not working #}
        <script src="/static/jscripts.js"></script>

    </head>

    <body>
      <h1>Apptivist</h1>
        <div class="homebar">

            <p><a href="/">Home</a></p>

            <!-- show if logged in or not -->
            {% if "user_id" in session %}
                <p><a href="/apptivist/{{ session["user_id"] }}">Profile Me</a></p>
                <p><a href="/new_post">Post a New Article</a></p>
                <p><a href="/logout">Log Out</a></p>
            {% else %}
                <p><a href="/login">Log In</a></p>
                <p><a href="/registration">Register</a></p>
                <p><a href="/add_article">***Add an Article to DB***</a></p>
            {% endif %}
        
        </div>


        <!-- Show flashed messages -->    
        <hr>

            {% for flash in get_flashed_messages() %}
              {{ flash }}
            {% endfor %}

            {% block content %}
                Put your body here.
            {% endblock %}

        <script>

            // TODO. make this a function: function () {}
            var actionObj = $('.actionLinks a').click(function(event) { 
                                      event.preventDefault();
                                      console.log(this.dataset)
                                      return this.dataset; 
                                    });

            // will this work out here? or will it try to run before actionObj is defined
            // console.log(actionObj);

            // $.post( "/action",
            //     actionObj, // could call above .click function here and that would return actionObj here
            //     function (result) { console.log(result) }
            // );

            // $('.actionLinks a').post("/action",
            //     { name: 'Jessica', age: 27 },
            //     function (result) { alert(result) }
            //   );


            // actionObj = {
            //     "linktype": 'meetup',
            //     "articlId": '2',
            //     "tagId": '5'
            // }

            // @app.route('/new-student', methods=['POST'])
            // def add_student():
            //     name = request.form.get("name")
            //     age = request.form.get("age")
            //     # add to database here
            //     return "Added %s (age=%s)" % (name, age)

            // @app.route('/action/<action_object>', methods=['POST'])
            // def add_action_to_db(action_object):
            //     action_obj = jsonify(action_object)
               
            //     action_obj = Action(
            //         ===
            //         )
            //     return "Added %s (age=%s)" % (name, age)


        </script>

    </body>

</html>